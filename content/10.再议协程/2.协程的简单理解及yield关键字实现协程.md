# 协程的简单理解及yield关键字实现协程

## 1.什么是协程（Coroutine）

**协程是python个中另外一种实现多任务的方式**，只不过比线程更小占用更小执行单元（理解为需要的资源）。 为啥说它是一个执行单元，因为它自带CPU上下文。这样只要在合适的时机， 我们可以把一个协程 切换到另一个协程。 只要这个过程中保存或恢复 CPU上下文那么程序还是可以运行的。

**通俗的理解：在一个线程中的某个函数，可以在任何地方保存当前函数的一些临时变量等信息，然后切换到另外一个函数中执行，注意不是通过调用函数的方式做到的，并且切换的次数以及什么时候再切换到原来的函数都由开发者自己确定**

## 2.协程（Coroutine的直观理解）

 yield个人认为其实是为了实现协程而出现的。所以如果要解释清楚什么是yield，那么也就必须要先搞懂什么是协程。首先明确一点：**协程是针对单个CPU的，也就是说，讲协程讲的就是单线程**。我们可以通过协程实现类似并发的任务，并且如果只是在一个CPU上的话，使用协程带来的效率一般都会比使用线程来的高。这是为啥呢？这就要看协程的原理了。等IO、等信号啥的，这些时间CPU给了你你也没用。

### 2.1为什么yield可以实现协程

yield具有一个延迟加载的特性，所谓的延迟加载就是当运行执行到yield关键词时，会保存当前程序运行状态，自动跳出当前函数遇到下次yield关键词会返回上一个yield关键词位置继续执行之后的代码，这就有了一个上下文概念。

在Python中，协程通过yield实现。因为当一个函数中有yield存在的时候，这个函数是生成器，那么当你调用这个函数的时候，你在函数体中写的代码并没有被执行，而是只返回了一个生成器对象，这个需要特别注意。然后，你的代码将会在每次使用这个生成器的时候被执行。①返回一个值、②接收调用者的参数中断等待的功能”，才使得yield可以实现协程。

### 2.2 yield实现协程的例子

